<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seller Page | Ecommerce Website</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/seller-registration.css') }}">
</head>

<style>
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .header .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
  }

  .header .navbar {
      display: flex;
      align-items: center;
  }

  .header .logo img {
      width: 125px;
  }

  .navbar {
    display: flex;
    justify-content: flex-end; /* Push the content to the right */
    flex-grow: 1; /* Allow the navbar to take up remaining space */
  }

  .navbar ul {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    align-items: center;
  }

  .navbar ul li {
      margin-left: 20px;
  }

  .dropdown {
    position: relative;
  }

  .dropdown-menu {
    display: none;
    position: absolute;
    right: 0; /* Align dropdown to the right */
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
    z-index: 1;
  }

  .dropdown-menu a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
  }

  .dropdown-menu a:hover {
    background-color: #f1f1f1;
  }

  .show {
    display: block;
  }
  
  .profile-container {
    display: flex;
    align-items: center;
    margin-left: 20px;
  }

  .profile-container img {
    margin-left: 10px;
    cursor: pointer;
  }
</style>


<body>
  <header class="header">
    <div class="container">
        <div class="logo">
          <a href="{{ url_for('seller') }}"><img src="{{ url_for('static', filename='images/logo.png') }}" width="125px"></a>
        </div>

        <div class="navbar">
          <ul>
            {% if current_user.is_authenticated %}
            <li class="profile-container">
                <a href="{{ url_for('seller') }}">{{ current_user.username }}</a>
                <div class="dropdown">
                    <img src="{{ url_for('static', filename='images/profile-pic.png') }}" width="30px" height="30px" class="profile-pic" onclick="toggleDropdown()">
                    <div id="dropdown-menu" class="dropdown-menu">
                        <a href="{{ url_for('profile') }}">My Account</a>
                        <a href="{{ url_for('home') }}">Switch to Buyer</a>
                        <a href="{{ url_for('logout') }}">Logout</a>
                    </div>
                </div>
            </li>
          </ul>
          {% endif %}
        </div>
      </div>
    </div>
  </header>

  {% block content %}{% endblock %}

  <script>
    function toggleDropdown() {
      var dropdown = document.getElementById("dropdown-menu");
      dropdown.classList.toggle("show");
    }

    window.onclick = function(event) {
      if (!event.target.matches('.profile-pic')) {
        var dropdowns = document.getElementsByClassName("dropdown-menu");
        for (var i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }
  </script>
</body>

</html>